# LSB-Стеганография

Программа для встраивания и извлечения текстовых сообщений в изображения формата PNG с использованием метода LSB (Least Significant Bit). Поддерживает сообщения на любом языке (UTF-8, включая кириллицу и ASCII).

## Описание

Метод LSB-стеганографии скрывает данные, заменяя младшие биты каналов RGB (красный, зелёный, синий) пикселей изображения битами сообщения. Младший бит влияет на цвет минимально, поэтому изменения незаметны для глаза. Программа:
- Встраивает сообщение с указанием его длины (32 бита) для корректного извлечения.
- Использует формат PNG для сохранения младших бит без потерь.
- Обрабатывает входные строки, удаляя управляющие символы (например, CRLF), для устойчивости в PowerShell.

## Требования

- Python 3.6+
- Библиотека Pillow: `pip install Pillow`

## Установка

1. Склонируйте репозиторий или скачайте файлы:
   ```bash
   git clone https://github.com/egrusin/steganography.git
   ```
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. (Опционально) Создайте виртуальное окружение:
   ```bash
   python -m venv venv
   source venv/bin/activate  # Linux/Mac
   venv\Scripts\activate     # Windows
   ```

## Использование

Программа работает в двух режимах: встраивание (`--embed`) и извлечение (`--extract`). Используйте аргументы командной строки для указания изображения, сообщения и выходного файла.

### Встраивание сообщения

Команда:
```bash
python stego.py --embed --image <входное_изображение>.png --message "<сообщение>" --output <выходное_изображение>.png
```

- `--embed`: Режим встраивания.
- `--image`: Путь к исходному изображению (PNG).
- `--message`: Сообщение для встраивания (в кавычках).
- `--output`: Путь для сохранения стегоконтейнера (PNG).

Пример:
```bash
python stego.py --embed --image giraffe.png --message "Секретное сообщение" --output stego.png
```

### Извлечение сообщения

Команда:
```bash
python stego.py --extract --image <стегоконтейнер>.png
```

- `--extract`: Режим извлечения.
- `--image`: Путь к изображению со скрытым сообщением.

Пример:
```bash
python stego.py --extract --image stego.png
```

Вывод:
```
Извлечённое сообщение: Секретное сообщение
```


```bash
python convert_to_png.py --input image.jpg --output image.png
```

## Примеры

1. Встраивание сообщения на кириллице:
   ```bash
   python stego.py --embed --image giraffe.png --message "Секретное сообщение" --output stego.png
   python stego.py --extract --image stego.png
   ```
   Результат: `Извлечённое сообщение: Секретное сообщение`

2. Встраивание сообщения на ASCII:
   ```bash
   python stego.py --embed --image giraffe.png --message "secret message" --output stego.png
   python stego.py --extract --image stego.png
   ```
   Результат: `Извлечённое сообщение: secret message`

## Ограничения

- Изображение должно быть достаточно большим: каждый пиксель несёт 3 бита (по одному в R, G, B). Для сообщения длиной N бит нужно `ceil((32 + N) / 3)` пикселей.
- Метод LSB уязвим к статистическому анализу и не подходит для реальной защиты данных.
- Используйте только PNG, так как форматы с потерями (например, JPG) разрушают младшие биты.

## Структура проекта

- `stego.py`: Основной скрипт для встраивания и извлечения сообщений.
- `README.md`: Документация проекта.
